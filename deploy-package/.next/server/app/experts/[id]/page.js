(()=>{var e={};e.id=582,e.ids=[582],e.modules={1922:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\zhuanjia\\\\expert-management-system\\\\src\\\\app\\\\experts\\\\[id]\\\\page.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\zhuanjia\\expert-management-system\\src\\app\\experts\\[id]\\page.tsx","default")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},16954:(e,s,t)=>{Promise.resolve().then(t.bind(t,92268))},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},29190:(e,s,t)=>{"use strict";t.d(s,{A:()=>o});var r=t(60687),a=t(43210),i=t(85814),n=t.n(i),d=t(82136),l=t(16189);function o(){let{data:e,status:s}=(0,d.useSession)(),[t,i]=(0,a.useState)(!1),o=(0,l.useRouter)(),c=async()=>{await (0,d.signOut)({redirect:!1}),o.push("/")};return(0,r.jsx)("nav",{className:"bg-white shadow-lg",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(n(),{href:"/",className:"flex-shrink-0",children:(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"专家管理系统"})})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsx)(n(),{href:"/",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"专家列表"}),e?.user?.role==="admin"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{href:"/experts/create",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"添加专家"}),(0,r.jsx)(n(),{href:"/experts/import",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"批量导入"})]}),"loading"===s?(0,r.jsx)("div",{className:"text-gray-500",children:"加载中..."}):e?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-gray-700 text-sm",children:[e.user.email,"admin"===e.user.role&&(0,r.jsx)("span",{className:"ml-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:"管理员"})]}),(0,r.jsx)("button",{onClick:c,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm font-medium",children:"退出登录"})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(n(),{href:"/auth/signin",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"登录"}),(0,r.jsx)(n(),{href:"/auth/signup",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-md text-sm font-medium",children:"注册"})]})]}),(0,r.jsx)("div",{className:"md:hidden flex items-center",children:(0,r.jsx)("button",{onClick:()=>i(!t),className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),t&&(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,r.jsx)(n(),{href:"/",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>i(!1),children:"专家列表"}),e?.user?.role==="admin"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(n(),{href:"/experts/create",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>i(!1),children:"添加专家"}),(0,r.jsx)(n(),{href:"/experts/import",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>i(!1),children:"批量导入"})]}),e?(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,r.jsxs)("div",{className:"px-3 py-2",children:[(0,r.jsx)("div",{className:"text-base font-medium text-gray-800",children:e.user.email}),"admin"===e.user.role&&(0,r.jsx)("div",{className:"text-sm text-blue-600",children:"管理员"})]}),(0,r.jsx)("button",{onClick:()=>{c(),i(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium text-red-600 hover:text-red-800",children:"退出登录"})]}):(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-1",children:[(0,r.jsx)(n(),{href:"/auth/signin",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>i(!1),children:"登录"}),(0,r.jsx)(n(),{href:"/auth/signup",className:"bg-indigo-600 hover:bg-indigo-700 text-white block px-3 py-2 rounded-md text-base font-medium",onClick:()=>i(!1),children:"注册"})]})]})})]})})}},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},31316:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>x,pages:()=>c,routeModule:()=>m,tree:()=>o});var r=t(65239),a=t(48088),i=t(88170),n=t.n(i),d=t(30893),l={};for(let e in d)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);t.d(s,l);let o={children:["",{children:["experts",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,1922)),"D:\\zhuanjia\\expert-management-system\\src\\app\\experts\\[id]\\page.tsx"]}]},{}]},{metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(t.bind(t,94431)),"D:\\zhuanjia\\expert-management-system\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,57398,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(t.t.bind(t,89999,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(t.t.bind(t,65284,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(t.bind(t,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]}.children,c=["D:\\zhuanjia\\expert-management-system\\src\\app\\experts\\[id]\\page.tsx"],x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.RouteKind.APP_PAGE,page:"/experts/[id]/page",pathname:"/experts/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},33873:e=>{"use strict";e.exports=require("path")},38965:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},48584:(e,s,t)=>{Promise.resolve().then(t.bind(t,79025))},61135:()=>{},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},70440:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});var r=t(31658);let a=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},78088:(e,s,t)=>{Promise.resolve().then(t.bind(t,84199))},79025:(e,s,t)=>{"use strict";t.d(s,{default:()=>i});var r=t(60687),a=t(82136);function i({children:e}){return(0,r.jsx)(a.SessionProvider,{children:e})}},79551:e=>{"use strict";e.exports=require("url")},80821:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},84199:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\zhuanjia\\\\expert-management-system\\\\src\\\\components\\\\SessionProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\zhuanjia\\expert-management-system\\src\\components\\SessionProvider.tsx","default")},92268:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c});var r=t(60687),a=t(43210),i=t(16189),n=t(82136),d=t(85814),l=t.n(d),o=t(29190);function c(){let e=(0,i.useParams)(),s=(0,i.useRouter)(),{data:t}=(0,n.useSession)(),[d,c]=(0,a.useState)(null),[x,m]=(0,a.useState)(!0),[h,p]=(0,a.useState)(""),[u,g]=(0,a.useState)(!1),f=Array.isArray(e.id)?e.id[0]:e.id,j=async()=>{if(confirm("确定要删除这位专家吗？此操作不可撤销。")){g(!0);try{let e=await fetch(`/api/experts/${f}`,{method:"DELETE"});if(e.ok)s.push("/");else{let s=await e.json();alert(s.error||"删除失败")}}catch(e){alert("删除失败")}finally{g(!1)}}};if(x)return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,r.jsx)("div",{className:"text-lg",children:"加载中..."})})]});if(h||!d)return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(o.A,{}),(0,r.jsx)("div",{className:"max-w-4xl mx-auto py-8 px-4",children:(0,r.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,r.jsx)("p",{className:"text-red-800",children:h||"专家不存在"})})})]});let b=d.field.split(",").map(e=>e.trim()).filter(e=>e),v=d.specialty.split(",").map(e=>e.trim()).filter(e=>e);return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)(o.A,{}),(0,r.jsxs)("div",{className:"max-w-4xl mx-auto py-8 px-4",children:[(0,r.jsxs)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[(0,r.jsx)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 px-6 py-8 text-white",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex items-start space-x-6",children:[d.photoUrl&&(0,r.jsx)("div",{className:"flex-shrink-0",children:(0,r.jsx)("img",{src:d.photoUrl,alt:d.name,className:"w-24 h-24 rounded-full object-cover border-4 border-white shadow-lg"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold mb-2",children:d.name}),d.title&&d.organization&&(0,r.jsxs)("p",{className:"text-indigo-100 text-lg",children:[d.title," \xb7 ",d.organization]}),d.title&&!d.organization&&(0,r.jsx)("p",{className:"text-indigo-100 text-lg",children:d.title}),!d.title&&d.organization&&(0,r.jsx)("p",{className:"text-indigo-100 text-lg",children:d.organization})]})]}),t?.user?.role==="admin"&&(0,r.jsxs)("div",{className:"flex space-x-2",children:[(0,r.jsx)(l(),{href:`/experts/${d.id}/edit`,className:"bg-white bg-opacity-20 hover:bg-opacity-30 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"编辑"}),(0,r.jsx)("button",{onClick:j,disabled:u,className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors disabled:opacity-50",children:u?"删除中...":"删除"})]})]})}),(0,r.jsxs)("div",{className:"p-6 space-y-6",children:[(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"基本信息"}),(0,r.jsxs)("div",{className:"space-y-2",children:[d.education&&(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("span",{className:"text-gray-600 w-20",children:"学历："}),(0,r.jsx)("span",{className:"text-gray-900",children:d.education})]}),d.contact&&(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("span",{className:"text-gray-600 w-20",children:"联系方式："}),(0,r.jsx)("span",{className:"text-gray-900",children:d.contact})]}),d.researchDirection&&(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)("span",{className:"text-gray-600 w-20",children:"研究方向："}),(0,r.jsx)("span",{className:"text-gray-900",children:d.researchDirection})]})]})]})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"专业领域"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:b.map((e,s)=>(0,r.jsx)("span",{className:"px-3 py-1 bg-blue-100 text-blue-800 rounded-full text-sm",children:e},s))})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"专家特长"}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2",children:v.map((e,s)=>(0,r.jsx)("span",{className:"px-3 py-1 bg-green-100 text-green-800 rounded-full text-sm",children:e},s))})]}),d.bio&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"个人简介"}),(0,r.jsx)("p",{className:"text-gray-700 leading-relaxed",children:d.bio})]}),d.awards&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"获奖经历"}),(0,r.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4",children:(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:d.awards})})]}),d.achievements&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"代表性成果"}),(0,r.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:(0,r.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:d.achievements})})]}),d.certificates&&d.certificates.length>0&&(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"专业证书"}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:d.certificates.map(e=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex items-start justify-between",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:e.name}),e.issuer&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,r.jsx)("span",{className:"font-medium",children:"颁发机构:"})," ",e.issuer]}),e.issueDate&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,r.jsx)("span",{className:"font-medium",children:"颁发日期:"})," ",e.issueDate]}),e.expiryDate&&(0,r.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,r.jsx)("span",{className:"font-medium",children:"过期日期:"})," ",e.expiryDate]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-700 mt-2",children:e.description})]}),e.fileUrl&&(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsxs)("a",{href:e.fileUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-1 border border-transparent text-xs font-medium rounded text-indigo-700 bg-indigo-100 hover:bg-indigo-200",children:[(0,r.jsx)("svg",{className:"w-3 h-3 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"查看"]})})]})},e.id))})]})]}),(0,r.jsx)("div",{className:"bg-gray-50 px-6 py-4",children:(0,r.jsxs)("div",{className:"flex justify-between items-center text-sm text-gray-500",children:[(0,r.jsxs)("span",{children:["创建时间：",new Date(d.createdAt).toLocaleString("zh-CN")]}),(0,r.jsxs)("span",{children:["更新时间：",new Date(d.updatedAt).toLocaleString("zh-CN")]})]})})]}),(0,r.jsx)("div",{className:"mt-6",children:(0,r.jsx)(l(),{href:"/",className:"inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"← 返回专家列表"})})]})]})}},93394:(e,s,t)=>{Promise.resolve().then(t.bind(t,1922))},94431:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,metadata:()=>o});var r=t(37413),a=t(22376),i=t.n(a),n=t(68726),d=t.n(n);t(61135);var l=t(84199);let o={title:"专家人员管理系统",description:"专业的专家人员信息管理与展示系统"};function c({children:e}){return(0,r.jsx)("html",{lang:"zh-CN",children:(0,r.jsx)("body",{className:`${i().variable} ${d().variable} antialiased`,children:(0,r.jsx)(l.default,{children:e})})})}}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[243,310,707],()=>t(31316));module.exports=r})();