exports.id=308,exports.ids=[308],exports.modules={10780:(e,s,t)=>{"use strict";t.d(s,{A:()=>u});var r=t(60687),i=t(43210),n=t(16189),o=t(27605),a=t(57335),l=t(9275);function d({type:e,onUpload:s,currentFile:t,accept:n="photo"===e?"image/*":".pdf,.doc,.docx,image/*",className:o=""}){let[a,l]=(0,i.useState)(!1),[d,c]=(0,i.useState)(""),m=(0,i.useRef)(null),x=async t=>{let r=t.target.files?.[0];if(r){l(!0),c("");try{let t=new FormData;t.append("file",r),t.append("type",e);let i=await fetch("/api/upload",{method:"POST",body:t}),n=await i.json();i.ok?s(n.data.fileUrl):c(n.error||"上传失败")}catch(e){c("上传失败，请稍后重试")}finally{l(!1)}}},u=()=>{m.current?.click()},h=()=>{s(""),m.current&&(m.current.value="")};return(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)("input",{ref:m,type:"file",accept:n,onChange:x,className:"hidden"}),t?(0,r.jsxs)("div",{className:"space-y-2",children:["photo"===e?(0,r.jsxs)("div",{className:"relative inline-block",children:[(0,r.jsx)("img",{src:t,alt:"预览",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"}),(0,r.jsx)("button",{type:"button",onClick:h,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600",children:"\xd7"})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2 p-3 border border-gray-300 rounded-md bg-gray-50",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:t.split("/").pop()}),(0,r.jsx)("button",{type:"button",onClick:h,className:"text-red-500 hover:text-red-700 text-sm",children:"删除"})]}),(0,r.jsx)("button",{type:"button",onClick:u,disabled:a,className:"text-sm text-indigo-600 hover:text-indigo-800 disabled:opacity-50",children:a?"上传中...":"重新上传"})]}):(0,r.jsx)("div",{onClick:u,className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition-colors",children:a?(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsxs)("svg",{className:"mx-auto h-8 w-8 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"mt-2 text-sm",children:"上传中..."})]}):(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsx)("svg",{className:"mx-auto h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,r.jsxs)("p",{className:"mt-2 text-sm",children:["点击上传","photo"===e?"照片":"证书文件"]}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"photo"===e?"支持 JPG、PNG、WebP 格式，最大 5MB":"支持 PDF、DOC、DOCX、图片格式，最大 5MB"})]})}),d&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:d})]})}let c=l.z.object({name:l.z.string().min(1,"证书名称不能为空"),issuer:l.z.string().optional(),issueDate:l.z.string().optional(),expiryDate:l.z.string().optional(),description:l.z.string().optional()});function m({certificates:e,onChange:s}){let[t,n]=(0,i.useState)(!1),[l,m]=(0,i.useState)(null),{register:x,handleSubmit:u,reset:h,setValue:p,watch:g,formState:{errors:f}}=(0,o.mN)({resolver:(0,a.u)(c)}),b=g("file"),y=t=>{s([...e,t]),h(),n(!1)},j=(t,r)=>{let i=[...e];i[t]=r,s(i),h(),m(null)},v=t=>{confirm("确定要删除这个证书吗？")&&s(e.filter((e,s)=>s!==t))},N=s=>{h(e[s]),m(s)};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"证书管理"}),!t&&null===l&&(0,r.jsxs)("button",{type:"button",onClick:()=>n(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"添加证书"]})]}),e.length>0&&(0,r.jsx)("div",{className:"space-y-3",children:e.map((e,s)=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),e.issuer&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["颁发机构: ",e.issuer]}),e.issueDate&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["颁发日期: ",e.issueDate]}),e.expiryDate&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["过期日期: ",e.expiryDate]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.file&&(0,r.jsxs)("p",{className:"text-sm text-indigo-600 mt-1",children:["\uD83D\uDCCE ","object"==typeof e.file&&"name"in e.file?e.file.name:"已上传文件"]})]}),(0,r.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>N(s),className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"编辑"}),(0,r.jsx)("button",{type:"button",onClick:()=>v(s),className:"text-red-600 hover:text-red-800 text-sm",children:"删除"})]})]})},s))}),(t||null!==l)&&(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:null!==l?"编辑证书":"添加证书"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["证书名称 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{...x("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入证书名称"}),f.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:f.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"颁发机构"}),(0,r.jsx)("input",{...x("issuer"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入颁发机构"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"颁发日期"}),(0,r.jsx)("input",{...x("issueDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"过期日期"}),(0,r.jsx)("input",{...x("expiryDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"证书描述"}),(0,r.jsx)("textarea",{...x("description"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入证书描述"})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"证书文件"}),(0,r.jsx)(d,{type:"certificate",onUpload:e=>{p("file",{name:e.split("/").pop()||"",url:e})},currentFile:b&&"object"==typeof b&&"url"in b?b.url:""})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{h(),n(!1),m(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"取消"}),(0,r.jsx)("button",{type:"button",onClick:u(e=>{null!==l?j(l,e):y(e)}),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:null!==l?"更新":"添加"})]})]})]})}let x=l.z.object({name:l.z.string().min(1,"姓名不能为空"),field:l.z.string().min(1,"专业领域不能为空"),specialty:l.z.string().min(1,"专家特长不能为空"),organization:l.z.string().optional(),contact:l.z.string().optional(),education:l.z.string().optional(),title:l.z.string().optional(),researchDirection:l.z.string().optional(),awards:l.z.string().optional(),achievements:l.z.string().optional(),bio:l.z.string().max(500,"个人简介不能超过500字").optional()});function u({expert:e,onSuccess:s}){let[t,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(e?.photoUrl||""),[g,f]=(0,i.useState)([]),b=(0,n.useRouter)(),y=!!e,{register:j,handleSubmit:v,formState:{errors:N}}=(0,o.mN)({resolver:(0,a.u)(x),defaultValues:e?{name:e.name,field:e.field,specialty:e.specialty,organization:e.organization||"",contact:e.contact||"",education:e.education||"",title:e.title||"",researchDirection:e.researchDirection||"",awards:e.awards||"",achievements:e.achievements||"",bio:e.bio||""}:{}}),k=async t=>{l(!0),u("");try{let r={...t,photoUrl:h||void 0},i=y?`/api/experts/${e.id}`:"/api/experts",n=await fetch(i,{method:y?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),o=await n.json();if(n.ok){let e=o.data.id;if(g.length>0)for(let s of g){let t={expertId:e,name:s.name,issuer:s.issuer,issueDate:s.issueDate,expiryDate:s.expiryDate,description:s.description,fileUrl:s.file&&"object"==typeof s.file&&"url"in s.file?s.file.url:void 0};await fetch("/api/certificates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}s?s():b.push("/")}else u(o.error||"操作失败，请稍后重试")}catch(e){u("操作失败，请稍后重试")}finally{l(!1)}};return(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:y?"编辑专家信息":"添加专家"}),(0,r.jsxs)("form",{onSubmit:v(k),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["姓名 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{...j("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入专家姓名"}),N.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"工作单位"}),(0,r.jsx)("input",{...j("organization"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入工作单位"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["专业领域 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{...j("field"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入专业领域，多个用逗号分隔"}),N.field&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.field.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["专家特长 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{...j("specialty"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入专家特长，多个用逗号分隔"}),N.specialty&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.specialty.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"联系方式"}),(0,r.jsx)("input",{...j("contact"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入联系方式"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"学历"}),(0,r.jsxs)("select",{...j("education"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,r.jsx)("option",{value:"",children:"请选择学历"}),(0,r.jsx)("option",{value:"本科",children:"本科"}),(0,r.jsx)("option",{value:"硕士",children:"硕士"}),(0,r.jsx)("option",{value:"博士",children:"博士"}),(0,r.jsx)("option",{value:"博士后",children:"博士后"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"职称"}),(0,r.jsx)("input",{...j("title"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入职称"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"研究方向"}),(0,r.jsx)("input",{...j("researchDirection"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入研究方向"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"获奖经历"}),(0,r.jsx)("textarea",{...j("awards"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入获奖经历"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"代表性成果"}),(0,r.jsx)("textarea",{...j("achievements"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入代表性成果"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["个人简介 ",(0,r.jsx)("span",{className:"text-gray-500",children:"(限500字)"})]}),(0,r.jsx)("textarea",{...j("bio"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入个人简介"}),N.bio&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:N.bio.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"专家照片"}),(0,r.jsx)(d,{type:"photo",onUpload:p,currentFile:h})]}),(0,r.jsx)("div",{children:(0,r.jsx)(m,{certificates:g,onChange:f})}),c&&(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:c})}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>b.back(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"取消"}),(0,r.jsx)("button",{type:"submit",disabled:t,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:t?"保存中...":y?"更新":"创建"})]})]})]})})}},29190:(e,s,t)=>{"use strict";t.d(s,{A:()=>d});var r=t(60687),i=t(43210),n=t(85814),o=t.n(n),a=t(82136),l=t(16189);function d(){let{data:e,status:s}=(0,a.useSession)(),[t,n]=(0,i.useState)(!1),d=(0,l.useRouter)(),c=async()=>{await (0,a.signOut)({redirect:!1}),d.push("/")};return(0,r.jsx)("nav",{className:"bg-white shadow-lg",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(o(),{href:"/",className:"flex-shrink-0",children:(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"专家管理系统"})})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsx)(o(),{href:"/",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"专家列表"}),e?.user?.role==="admin"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{href:"/experts/create",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"添加专家"}),(0,r.jsx)(o(),{href:"/experts/import",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"批量导入"})]}),"loading"===s?(0,r.jsx)("div",{className:"text-gray-500",children:"加载中..."}):e?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-gray-700 text-sm",children:[e.user.email,"admin"===e.user.role&&(0,r.jsx)("span",{className:"ml-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:"管理员"})]}),(0,r.jsx)("button",{onClick:c,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm font-medium",children:"退出登录"})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(o(),{href:"/auth/signin",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"登录"}),(0,r.jsx)(o(),{href:"/auth/signup",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-md text-sm font-medium",children:"注册"})]})]}),(0,r.jsx)("div",{className:"md:hidden flex items-center",children:(0,r.jsx)("button",{onClick:()=>n(!t),className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),t&&(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,r.jsx)(o(),{href:"/",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>n(!1),children:"专家列表"}),e?.user?.role==="admin"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(o(),{href:"/experts/create",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>n(!1),children:"添加专家"}),(0,r.jsx)(o(),{href:"/experts/import",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>n(!1),children:"批量导入"})]}),e?(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,r.jsxs)("div",{className:"px-3 py-2",children:[(0,r.jsx)("div",{className:"text-base font-medium text-gray-800",children:e.user.email}),"admin"===e.user.role&&(0,r.jsx)("div",{className:"text-sm text-blue-600",children:"管理员"})]}),(0,r.jsx)("button",{onClick:()=>{c(),n(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium text-red-600 hover:text-red-800",children:"退出登录"})]}):(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-1",children:[(0,r.jsx)(o(),{href:"/auth/signin",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>n(!1),children:"登录"}),(0,r.jsx)(o(),{href:"/auth/signup",className:"bg-indigo-600 hover:bg-indigo-700 text-white block px-3 py-2 rounded-md text-base font-medium",onClick:()=>n(!1),children:"注册"})]})]})})]})})}},38965:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,16444,23)),Promise.resolve().then(t.t.bind(t,16042,23)),Promise.resolve().then(t.t.bind(t,88170,23)),Promise.resolve().then(t.t.bind(t,49477,23)),Promise.resolve().then(t.t.bind(t,29345,23)),Promise.resolve().then(t.t.bind(t,12089,23)),Promise.resolve().then(t.t.bind(t,46577,23)),Promise.resolve().then(t.t.bind(t,31307,23))},48584:(e,s,t)=>{Promise.resolve().then(t.bind(t,79025))},61135:()=>{},70440:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var r=t(31658);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,r.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]},78088:(e,s,t)=>{Promise.resolve().then(t.bind(t,84199))},79025:(e,s,t)=>{"use strict";t.d(s,{default:()=>n});var r=t(60687),i=t(82136);function n({children:e}){return(0,r.jsx)(i.SessionProvider,{children:e})}},80821:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,86346,23)),Promise.resolve().then(t.t.bind(t,27924,23)),Promise.resolve().then(t.t.bind(t,35656,23)),Promise.resolve().then(t.t.bind(t,40099,23)),Promise.resolve().then(t.t.bind(t,38243,23)),Promise.resolve().then(t.t.bind(t,28827,23)),Promise.resolve().then(t.t.bind(t,62763,23)),Promise.resolve().then(t.t.bind(t,97173,23))},84199:(e,s,t)=>{"use strict";t.d(s,{default:()=>r});let r=(0,t(12907).registerClientReference)(function(){throw Error("Attempted to call the default export of \"D:\\\\zhuanjia\\\\expert-management-system\\\\src\\\\components\\\\SessionProvider.tsx\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"D:\\zhuanjia\\expert-management-system\\src\\components\\SessionProvider.tsx","default")},87979:(e,s,t)=>{"use strict";t.d(s,{wC:()=>n});var r=t(82136),i=t(16189);t(43210);function n(){let e=function(e=!0){let{data:s,status:t}=(0,r.useSession)();return(0,i.useRouter)(),{session:s,status:t,isLoading:"loading"===t,isAuthenticated:"authenticated"===t,user:s?.user,isAdmin:s?.user?.role==="admin"}}(!0);return(0,i.useRouter)(),e}},94431:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>c,metadata:()=>d});var r=t(37413),i=t(22376),n=t.n(i),o=t(68726),a=t.n(o);t(61135);var l=t(84199);let d={title:"专家人员管理系统",description:"专业的专家人员信息管理与展示系统"};function c({children:e}){return(0,r.jsx)("html",{lang:"zh-CN",children:(0,r.jsx)("body",{className:`${n().variable} ${a().variable} antialiased`,children:(0,r.jsx)(l.default,{children:e})})})}}};