"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[484],{5494:(e,s,t)=>{t.d(s,{A:()=>d});var r=t(5155),i=t(2115),n=t(6874),a=t.n(n),o=t(2108),l=t(5695);function d(){var e,s;let{data:t,status:n}=(0,o.useSession)(),[d,c]=(0,i.useState)(!1),m=(0,l.useRouter)(),x=async()=>{await (0,o.signOut)({redirect:!1}),m.push("/")};return(0,r.jsx)("nav",{className:"bg-white shadow-lg",children:(0,r.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"flex justify-between h-16",children:[(0,r.jsx)("div",{className:"flex items-center",children:(0,r.jsx)(a(),{href:"/",className:"flex-shrink-0",children:(0,r.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"专家管理系统"})})}),(0,r.jsxs)("div",{className:"hidden md:flex items-center space-x-4",children:[(0,r.jsx)(a(),{href:"/",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"专家列表"}),(null==t||null==(e=t.user)?void 0:e.role)==="admin"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{href:"/experts/create",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"添加专家"}),(0,r.jsx)(a(),{href:"/experts/import",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"批量导入"})]}),"loading"===n?(0,r.jsx)("div",{className:"text-gray-500",children:"加载中..."}):t?(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-gray-700 text-sm",children:[t.user.email,"admin"===t.user.role&&(0,r.jsx)("span",{className:"ml-1 px-2 py-1 text-xs bg-blue-100 text-blue-800 rounded",children:"管理员"})]}),(0,r.jsx)("button",{onClick:x,className:"bg-red-600 hover:bg-red-700 text-white px-3 py-2 rounded-md text-sm font-medium",children:"退出登录"})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsx)(a(),{href:"/auth/signin",className:"text-gray-700 hover:text-gray-900 px-3 py-2 rounded-md text-sm font-medium",children:"登录"}),(0,r.jsx)(a(),{href:"/auth/signup",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-3 py-2 rounded-md text-sm font-medium",children:"注册"})]})]}),(0,r.jsx)("div",{className:"md:hidden flex items-center",children:(0,r.jsx)("button",{onClick:()=>c(!d),className:"text-gray-700 hover:text-gray-900 focus:outline-none focus:text-gray-900",children:(0,r.jsx)("svg",{className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16"})})})})]}),d&&(0,r.jsx)("div",{className:"md:hidden",children:(0,r.jsxs)("div",{className:"px-2 pt-2 pb-3 space-y-1 sm:px-3",children:[(0,r.jsx)(a(),{href:"/",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>c(!1),children:"专家列表"}),(null==t||null==(s=t.user)?void 0:s.role)==="admin"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a(),{href:"/experts/create",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>c(!1),children:"添加专家"}),(0,r.jsx)(a(),{href:"/experts/import",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>c(!1),children:"批量导入"})]}),t?(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4",children:[(0,r.jsxs)("div",{className:"px-3 py-2",children:[(0,r.jsx)("div",{className:"text-base font-medium text-gray-800",children:t.user.email}),"admin"===t.user.role&&(0,r.jsx)("div",{className:"text-sm text-blue-600",children:"管理员"})]}),(0,r.jsx)("button",{onClick:()=>{x(),c(!1)},className:"block w-full text-left px-3 py-2 text-base font-medium text-red-600 hover:text-red-800",children:"退出登录"})]}):(0,r.jsxs)("div",{className:"border-t border-gray-200 pt-4 space-y-1",children:[(0,r.jsx)(a(),{href:"/auth/signin",className:"text-gray-700 hover:text-gray-900 block px-3 py-2 rounded-md text-base font-medium",onClick:()=>c(!1),children:"登录"}),(0,r.jsx)(a(),{href:"/auth/signup",className:"bg-indigo-600 hover:bg-indigo-700 text-white block px-3 py-2 rounded-md text-base font-medium",onClick:()=>c(!1),children:"注册"})]})]})})]})})}},6681:(e,s,t)=>{t.d(s,{wC:()=>a});var r=t(2108),i=t(5695),n=t(2115);function a(){let e=function(){var e;let s=!(arguments.length>0)||void 0===arguments[0]||arguments[0],{data:t,status:a}=(0,r.useSession)(),o=(0,i.useRouter)();return(0,n.useEffect)(()=>{s&&"unauthenticated"===a&&o.push("/auth/signin")},[a,s,o]),{session:t,status:a,isLoading:"loading"===a,isAuthenticated:"authenticated"===a,user:null==t?void 0:t.user,isAdmin:(null==t||null==(e=t.user)?void 0:e.role)==="admin"}}(!0),s=(0,i.useRouter)();return(0,n.useEffect)(()=>{e.isAuthenticated&&!e.isAdmin&&s.push("/")},[e.isAuthenticated,e.isAdmin,s]),e}},7879:(e,s,t)=>{t.d(s,{A:()=>u});var r=t(5155),i=t(2115),n=t(5695),a=t(2177),o=t(8778),l=t(1153);function d(e){let{type:s,onUpload:t,currentFile:n,accept:a="photo"===s?"image/*":".pdf,.doc,.docx,image/*",className:o=""}=e,[l,d]=(0,i.useState)(!1),[c,m]=(0,i.useState)(""),x=(0,i.useRef)(null),u=async e=>{var r;let i=null==(r=e.target.files)?void 0:r[0];if(i){d(!0),m("");try{let e=new FormData;e.append("file",i),e.append("type",s);let r=await fetch("/api/upload",{method:"POST",body:e}),n=await r.json();r.ok?t(n.data.fileUrl):m(n.error||"上传失败")}catch(e){m("上传失败，请稍后重试")}finally{d(!1)}}},h=()=>{var e;null==(e=x.current)||e.click()},p=()=>{t(""),x.current&&(x.current.value="")};return(0,r.jsxs)("div",{className:o,children:[(0,r.jsx)("input",{ref:x,type:"file",accept:a,onChange:u,className:"hidden"}),n?(0,r.jsxs)("div",{className:"space-y-2",children:["photo"===s?(0,r.jsxs)("div",{className:"relative inline-block",children:[(0,r.jsx)("img",{src:n,alt:"预览",className:"w-32 h-32 object-cover rounded-lg border border-gray-300"}),(0,r.jsx)("button",{type:"button",onClick:p,className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm hover:bg-red-600",children:"\xd7"})]}):(0,r.jsxs)("div",{className:"flex items-center space-x-2 p-3 border border-gray-300 rounded-md bg-gray-50",children:[(0,r.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,r.jsx)("span",{className:"text-sm text-gray-700 flex-1",children:n.split("/").pop()}),(0,r.jsx)("button",{type:"button",onClick:p,className:"text-red-500 hover:text-red-700 text-sm",children:"删除"})]}),(0,r.jsx)("button",{type:"button",onClick:h,disabled:l,className:"text-sm text-indigo-600 hover:text-indigo-800 disabled:opacity-50",children:l?"上传中...":"重新上传"})]}):(0,r.jsx)("div",{onClick:h,className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center cursor-pointer hover:border-gray-400 transition-colors",children:l?(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsxs)("svg",{className:"mx-auto h-8 w-8 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[(0,r.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,r.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,r.jsx)("p",{className:"mt-2 text-sm",children:"上传中..."})]}):(0,r.jsxs)("div",{className:"text-gray-500",children:[(0,r.jsx)("svg",{className:"mx-auto h-8 w-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"})}),(0,r.jsxs)("p",{className:"mt-2 text-sm",children:["点击上传","photo"===s?"照片":"证书文件"]}),(0,r.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"photo"===s?"支持 JPG、PNG、WebP 格式，最大 5MB":"支持 PDF、DOC、DOCX、图片格式，最大 5MB"})]})}),c&&(0,r.jsx)("p",{className:"text-sm text-red-600 mt-1",children:c})]})}let c=l.z.object({name:l.z.string().min(1,"证书名称不能为空"),issuer:l.z.string().optional(),issueDate:l.z.string().optional(),expiryDate:l.z.string().optional(),description:l.z.string().optional()});function m(e){let{certificates:s,onChange:t}=e,[n,l]=(0,i.useState)(!1),[m,x]=(0,i.useState)(null),{register:u,handleSubmit:h,reset:p,setValue:g,watch:f,formState:{errors:b}}=(0,a.mN)({resolver:(0,o.u)(c)}),y=f("file"),j=e=>{t([...s,e]),p(),l(!1)},N=(e,r)=>{let i=[...s];i[e]=r,t(i),p(),x(null)},v=e=>{confirm("确定要删除这个证书吗？")&&t(s.filter((s,t)=>t!==e))},k=e=>{p(s[e]),x(e)};return(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"证书管理"}),!n&&null===m&&(0,r.jsxs)("button",{type:"button",onClick:()=>l(!0),className:"inline-flex items-center px-3 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700",children:[(0,r.jsx)("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),"添加证书"]})]}),s.length>0&&(0,r.jsx)("div",{className:"space-y-3",children:s.map((e,s)=>(0,r.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,r.jsxs)("div",{className:"flex justify-between items-start",children:[(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),e.issuer&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["颁发机构: ",e.issuer]}),e.issueDate&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["颁发日期: ",e.issueDate]}),e.expiryDate&&(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:["过期日期: ",e.expiryDate]}),e.description&&(0,r.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:e.description}),e.file&&(0,r.jsxs)("p",{className:"text-sm text-indigo-600 mt-1",children:["\uD83D\uDCCE ","object"==typeof e.file&&"name"in e.file?e.file.name:"已上传文件"]})]}),(0,r.jsxs)("div",{className:"flex space-x-2 ml-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>k(s),className:"text-indigo-600 hover:text-indigo-800 text-sm",children:"编辑"}),(0,r.jsx)("button",{type:"button",onClick:()=>v(s),className:"text-red-600 hover:text-red-800 text-sm",children:"删除"})]})]})},s))}),(n||null!==m)&&(0,r.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 bg-white",children:[(0,r.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:null!==m?"编辑证书":"添加证书"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["证书名称 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{...u("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入证书名称"}),b.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:b.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"颁发机构"}),(0,r.jsx)("input",{...u("issuer"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入颁发机构"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"颁发日期"}),(0,r.jsx)("input",{...u("issueDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"过期日期"}),(0,r.jsx)("input",{...u("expiryDate"),type:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"证书描述"}),(0,r.jsx)("textarea",{...u("description"),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入证书描述"})]}),(0,r.jsxs)("div",{className:"mt-4",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"证书文件"}),(0,r.jsx)(d,{type:"certificate",onUpload:e=>{g("file",{name:e.split("/").pop()||"",url:e})},currentFile:y&&"object"==typeof y&&"url"in y?y.url:""})]}),(0,r.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,r.jsx)("button",{type:"button",onClick:()=>{p(),l(!1),x(null)},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"取消"}),(0,r.jsx)("button",{type:"button",onClick:h(e=>{null!==m?N(m,e):j(e)}),className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700",children:null!==m?"更新":"添加"})]})]})]})}let x=l.z.object({name:l.z.string().min(1,"姓名不能为空"),field:l.z.string().min(1,"专业领域不能为空"),specialty:l.z.string().min(1,"专家特长不能为空"),organization:l.z.string().optional(),contact:l.z.string().optional(),education:l.z.string().optional(),title:l.z.string().optional(),researchDirection:l.z.string().optional(),awards:l.z.string().optional(),achievements:l.z.string().optional(),bio:l.z.string().max(500,"个人简介不能超过500字").optional()});function u(e){let{expert:s,onSuccess:t}=e,[l,c]=(0,i.useState)(!1),[u,h]=(0,i.useState)(""),[p,g]=(0,i.useState)((null==s?void 0:s.photoUrl)||""),[f,b]=(0,i.useState)([]),y=(0,n.useRouter)(),j=!!s,{register:N,handleSubmit:v,formState:{errors:k}}=(0,a.mN)({resolver:(0,o.u)(x),defaultValues:s?{name:s.name,field:s.field,specialty:s.specialty,organization:s.organization||"",contact:s.contact||"",education:s.education||"",title:s.title||"",researchDirection:s.researchDirection||"",awards:s.awards||"",achievements:s.achievements||"",bio:s.bio||""}:{}}),w=async e=>{c(!0),h("");try{let r={...e,photoUrl:p||void 0},i=j?"/api/experts/".concat(s.id):"/api/experts",n=await fetch(i,{method:j?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),a=await n.json();if(n.ok){let e=a.data.id;if(f.length>0)for(let s of f){let t={expertId:e,name:s.name,issuer:s.issuer,issueDate:s.issueDate,expiryDate:s.expiryDate,description:s.description,fileUrl:s.file&&"object"==typeof s.file&&"url"in s.file?s.file.url:void 0};await fetch("/api/certificates",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}t?t():y.push("/")}else h(a.error||"操作失败，请稍后重试")}catch(e){h("操作失败，请稍后重试")}finally{c(!1)}};return(0,r.jsx)("div",{className:"max-w-4xl mx-auto p-6",children:(0,r.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,r.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6",children:j?"编辑专家信息":"添加专家"}),(0,r.jsxs)("form",{onSubmit:v(w),className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["姓名 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{...N("name"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入专家姓名"}),k.name&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k.name.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"工作单位"}),(0,r.jsx)("input",{...N("organization"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入工作单位"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["专业领域 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{...N("field"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入专业领域，多个用逗号分隔"}),k.field&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k.field.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["专家特长 ",(0,r.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,r.jsx)("input",{...N("specialty"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入专家特长，多个用逗号分隔"}),k.specialty&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k.specialty.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"联系方式"}),(0,r.jsx)("input",{...N("contact"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入联系方式"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"学历"}),(0,r.jsxs)("select",{...N("education"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,r.jsx)("option",{value:"",children:"请选择学历"}),(0,r.jsx)("option",{value:"本科",children:"本科"}),(0,r.jsx)("option",{value:"硕士",children:"硕士"}),(0,r.jsx)("option",{value:"博士",children:"博士"}),(0,r.jsx)("option",{value:"博士后",children:"博士后"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"职称"}),(0,r.jsx)("input",{...N("title"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入职称"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"研究方向"}),(0,r.jsx)("input",{...N("researchDirection"),type:"text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入研究方向"})]})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"获奖经历"}),(0,r.jsx)("textarea",{...N("awards"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入获奖经历"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"代表性成果"}),(0,r.jsx)("textarea",{...N("achievements"),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入代表性成果"})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["个人简介 ",(0,r.jsx)("span",{className:"text-gray-500",children:"(限500字)"})]}),(0,r.jsx)("textarea",{...N("bio"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"请输入个人简介"}),k.bio&&(0,r.jsx)("p",{className:"mt-1 text-sm text-red-600",children:k.bio.message})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"专家照片"}),(0,r.jsx)(d,{type:"photo",onUpload:g,currentFile:p})]}),(0,r.jsx)("div",{children:(0,r.jsx)(m,{certificates:f,onChange:b})}),u&&(0,r.jsx)("div",{className:"rounded-md bg-red-50 p-4",children:(0,r.jsx)("p",{className:"text-sm text-red-800",children:u})}),(0,r.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,r.jsx)("button",{type:"button",onClick:()=>y.back(),className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500",children:"取消"}),(0,r.jsx)("button",{type:"submit",disabled:l,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"保存中...":j?"更新":"创建"})]})]})]})})}}}]);